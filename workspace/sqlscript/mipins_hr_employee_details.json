{
	"name": "mipins_hr_employee_details",
	"properties": {
		"description": "Creating the view for PBI to show contract data",
		"content": {
			"query": "--IF NOT EXISTS ( SELECT  *\n--                FROM    sys.schemas\n--                WHERE   name = 'mipins' )\n--    EXEC('CREATE SCHEMA [mipins]');\n--GO\n\n--CREATE VIEW FOR EMPLOYEE DETAILS--\n\n--CREATE OR ALTER VIEW mipins.vw_mipins_hr_employee_details\n--AS\n\nSELECT \nEF1.*\nFROM [odw_harmonised_db].[dbo].hr_employee_fact                 AS EF1\n\nJOIN [odw_harmonised_db].[dbo].hr_employee_dim                  AS ED1\n    ON EF1.EmployeeID = ED1.EmployeeID\n\nJOIN [odw_harmonised_db].[dbo].hr_employee_hr_hierarchy_dim     AS H\n    ON EF1.EmployeeID = H.EmployeeID\n\nJOIN [odw_harmonised_db].[dbo].hr_employee_fact                 AS EF2\n    ON H.ManagerEmployeeID = EF2.EmployeeID\n    \nJOIN [odw_harmonised_db].[dbo].hr_employee_dim                  AS ED2\n    ON EF2.EmployeeID = ED2.EmployeeID\n\n\n\n--GO",
			"metadata": {
				"language": "sql"
			},
			"currentConnection": {
				"databaseName": "odw_curated_db",
				"poolName": "Built-in"
			},
			"resultLimit": 5000
		},
		"type": "SqlQuery"
	}
}