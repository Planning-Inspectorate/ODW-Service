{
	"name": "DaRT_API_Query",
	"properties": {
		"folder": {
			"name": "DaRT"
		},
		"content": {
			"query": "USE ODW_HARMONISED_DB\n\nSELECT      \n                    TOP 5\n                    t1.CaseReference,\n                    t1.AppealRefNumber,\n                    -- t2.[Type] as \"tpo Type\",\n                    -- t4.[Type] as \"high hedges type\", -- multiple tables\n                    -- COALESCE(t2.[Procedure], t3.[Procedure]) as \"Procedure\", -- multiple tables\n                    t1.validity,\n                    t5.ProcessingState,\n                    t6.LinkedAppeal,\n                    t7.LPACode,\n                    t7.LPAName,\n                    t6.Jurisdiction,\n                    t5.DevelopmentOrAllegation,\n                    t5.CaseProcess,\n                    t6.DevelopmentType,\n                    t5.AppealSourceIndicator,\n                    t6.AppealTypeReason,\n                    t5.Level,\n                    t8.Specialism,\n                    t9.SpecialCircumstance,\n                    t5.ProcedureAppellant,\n                    t6.AppealRecDate as AppealReceiptDate,\n                    t6.AppealStartDate,\n                    t1.ValidTo as ValidDate, -- NULL values - needs checking - just need one column but from which table?\n                    t10.ValidTo, -- NULL values - needs checking\n                    t10.ValidityStatusDate,\n                    t5.CallInDate,\n                    t5.TargetDate,\n                    t5.StatementsDue,\n                    t5.ThirdPartyRepsDue,\n                    t5.FinalCommentsDue,\n                    t5.StatementOfCommonGroundDue,\n                    t5.ProofsDue,\n                    t11.ModifyDate,\n                    t12.LpaDecisionDate,\n                    t13.OutcomePublicSafety,\n                    t13.OutcomeAmenity,\n                    t13.IsActive as AdvertInPosition,\n                    t13.SignDescription as AdvertDescription\n\n\nFROM                casework_case_info_dim t1\n-- LEFT OUTER JOIN     casework_tpo_dim t2\n-- ON                  t1.AppealRefNumber = t2.AppealReferenceNumber   \n-- LEFT OUTER JOIN     high_court_dim t3 \n-- ON                  t1.AppealRefNumber = t3.AppealRefNumber\n-- LEFT OUTER JOIN     casework_high_hedges_dim t4\n-- ON                  t1.AppealRefNumber = t4.AppealRefNumber\nLEFT OUTER JOIN     casework_all_appeals_additional_data_dim t5\nON                  t1.AppealRefNumber = t5.AppealRefNumber\nLEFT OUTER JOIN     casework_all_appeals_dim t6\nON                  t1.AppealRefNumber = t6.AppealRefNumber\nLEFT OUTER JOIN     casework_lpa_responsibility_dim t7\nON                  t6.LPAID = t7.LPAID\nLEFT OUTER JOIN     casework_specialism_dim t8\nON                  t1.AppealRefNumber = t8.AppealRefNumber\nLEFT OUTER JOIN     casework_special_circumstance_dim t9\nON                  t1.AppealRefNumber = t9.AppealRefNumber\nLEFT OUTER JOIN     casework_case_dates_dim t10\nON                  t1.AppealRefNumber = t10.AppealRefNumber\nLEFT OUTER JOIN     casework_specialist_modifications_dim t11\nON                  t1.AppealRefNumber = t11.AppealRefNumber\nLEFT OUTER JOIN     casework_picaso_dim t12\nON                  t1.AppealRefNumber = t12.AppealRefNumber\nLEFT OUTER JOIN     casework_advert_details_dim t13\nON                  t1.AppealRefNumber = t13.AppealRefNumber\n\n-- WHERE               t1.AppealRefNumber = '2002510'\n",
			"metadata": {
				"language": "sql"
			},
			"currentConnection": {
				"databaseName": "odw_harmonised_db",
				"poolName": "Built-in"
			},
			"resultLimit": 5000
		},
		"type": "SqlQuery"
	}
}