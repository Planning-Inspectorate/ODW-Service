{
	"name": "DaRT_API_Query",
	"properties": {
		"folder": {
			"name": "DaRT"
		},
		"content": {
			"query": "-- Initial query which needs expanding and testing\n-- SELECT \n--                 t1.EventID,\n--                 t1.EventType,\n--                 t1.StartDateOfEvent,\n--                 t2.AppealRefNumber,\n--                 t3.SiteAddress1\n                \n-- FROM            casework_event_fact t1\n-- INNER JOIN      casework_event_dim t2 \n-- ON              t1.EventID = t2.EventID\n-- INNER JOIN      casework_case_fact t3\n-- ON              t2.CaseReference = t3.CaseReference\n\n\nUSE ODW_HARMONISED_DB\n\nSELECT      \n                    TOP 5\n                    t1.CaseReference,\n                    t1.AppealRefNumber,\n                    t2.[Type] as \"tpo Type\",\n                    t4.[Type] as \"high hedges type\",\n                    COALESCE(t2.[Procedure], t3.[Procedure]) as \"Procedure\",\n                    t1.validity\n\nFROM                casework_case_info_dim t1\nLEFT OUTER JOIN     casework_tpo_dim t2\nON                  t1.AppealRefNumber = t2.AppealReferenceNumber   \nLEFT OUTER JOIN     high_court_dim t3 \nON                  t1.AppealRefNumber = t3.AppealRefNumber\nLEFT OUTER JOIN     casework_high_hedges_dim t4\nON                  t1.AppealRefNumber = t4.AppealRefNumber\n",
			"metadata": {
				"language": "sql"
			},
			"currentConnection": {
				"databaseName": "odw_harmonised_db",
				"poolName": "Built-in"
			},
			"resultLimit": 5000
		},
		"type": "SqlQuery"
	}
}