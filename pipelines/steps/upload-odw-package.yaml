parameters:
  - name: armServiceConnectionName
    type: string
  - name: synapseWorkspaceName
    type: string
  - name: packageName
    default: odw/dist/odw-1.0.0-py3-none-any.whl

steps:
  - script: |
      set -x
      az synapse workspace-package upload --workspace-name ${{ parameters.synapseWorkspaceName }} --package ${{ parameters.packageName }}

      az synapse spark pool update --name sparkpool34 --workspace-name ${{ parameters.synapseWorkspaceName }} --resource-group rg --package-action Add --package package1.jar package2.jar
    displayName: 'Build ODW package'
    name: BuildODWPackage
